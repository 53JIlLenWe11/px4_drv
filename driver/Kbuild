# Kbuild for px4_drv

DEBUG := 0

dMAX_DEVICE := 0
dPSB_DEBUG := 0
dITEDTV_BUS_USE_WORKQUEUE := 0
dRINGBUFFER_USE_SPINLOCK := 0

ccflags-y := -I$(M)/../include

ifneq ($(DEBUG),0)
ccflags-y += -DDEBUG -g
endif

ifneq ($(dMAX_DEVICE),0)
ccflags-y += -DMAX_DEVICE=$(dMAX_DEVICE)
endif
ifneq ($(dPSB_DEBUG),0)
ccflags-y += -DPSB_DEBUG
endif
ifneq ($(dITEDTV_BUS_USE_WORKQUEUE),0)
ccflags-y += -DITEDTV_BUS_USE_WORKQUEUE
endif
ifneq ($(dRINGBUFFER_USE_SPINLOCK),0)
ccflags-y += -DRINGBUFFER_USE_SPINLOCK
endif

obj-m := px4_drv.o
px4_drv-y := driver.o module_param.o px4.o isdb2056.o it930x.o itedtv_bus.o tc90522.o rt710.o r850.o ringbuffer.o
